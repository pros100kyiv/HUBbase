# –†–æ–∑—à–∏—Ä–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª Telegram –±–æ—Ç–∞

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### 1. –°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ –ø–∞—Ä–æ–ª—å
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø–æ–ª–µ `activationPassword` –≤ –º–æ–¥–µ–ª—å `TelegramUser`
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø–æ–ª–µ `activatedAt` –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/start <–ø–∞—Ä–æ–ª—å>` –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è –ø—ñ—Å–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó

### 2. –†–æ–∑—à–∏—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π
- ‚úÖ –î–æ–¥–∞–Ω–æ —Ä–æ–ª—ñ: `CLIENT` (–∫–ª—ñ—î–Ω—Ç–∏), `DEVELOPER` (—Ä–æ–∑—Ä–æ–±–Ω–∏–∫)
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É:
  - **DEVELOPER**: –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
  - **OWNER/ADMIN**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞, —Ä–æ–∑—Å–∏–ª–∫–∏, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
  - **MANAGER**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–æ–∫
  - **CLIENT**: –¢—ñ–ª—å–∫–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–æ–∫
  - **VIEWER**: –ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É

### 3. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ –∫–Ω–æ–ø–∫–∞–º–∏
- ‚úÖ –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –∑ inline –∫–Ω–æ–ø–∫–∞–º–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏, —Å–ø–æ–≤—ñ—â–µ–Ω—å
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–∫–∞–º–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ (–¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤)

### 4. –°–∏—Å—Ç–µ–º–∞ —Ä–æ–∑—Å–∏–ª–æ–∫
- ‚úÖ –ú–æ–¥–µ–ª—å `TelegramBroadcast` –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–æ–∫ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- ‚úÖ –í–∏–±—ñ—Ä —Ü—ñ–ª—å–æ–≤–æ—ó –∞—É–¥–∏—Ç–æ—Ä—ñ—ó (—Ä–æ–ª—å)
- ‚úÖ –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–æ–∫
- ‚úÖ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É (draft, scheduled, sent, cancelled)

### 5. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—Ä–∏–±—É—Ç–∫—É
- ‚úÖ –ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏—Ö –≤—ñ–∑–∏—Ç—ñ–≤
- ‚úÖ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞—Ö –ø–æ—Å–ª—É–≥
- ‚úÖ –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä–µ–∫–ª–∞–º–Ω–∏—Ö –∫–∞–º–ø–∞–Ω—ñ–π
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç—Ä–µ–Ω–¥—ñ–≤ —Ç–∞ –∑–º—ñ–Ω

## üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –ø–æ–≤–Ω–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### 1. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–∞—Ä–æ–ª—ñ–≤ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó –≤ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ
–ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –≤ `/dashboard/settings` (–≤–∫–ª–∞–¥–∫–∞ Telegram):
- –ö–Ω–æ–ø–∫–∞ "–ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—å –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó"
- –í–∏–±—ñ—Ä —Ä–æ–ª—ñ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
- –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó

### 2. –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–æ–∑—Å–∏–ª–æ–∫
- –§–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–∫–∏ –≤ –±–æ—Ç—ñ
- –í–∏–±—ñ—Ä —Ü—ñ–ª—å–æ–≤–æ—ó –∞—É–¥–∏—Ç–æ—Ä—ñ—ó
- –ü—Ä–µ–≤'—é –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —Ä–æ–∑—Å–∏–ª–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏

### 3. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞
- –õ–æ–≥–∏ –≤—Å—ñ—Ö –¥—ñ–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±–æ—Ç–∞
- –ü–æ–º–∏–ª–∫–∏ —Ç–∞ –≤–∏–Ω—è—Ç–∫–∏
- –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### 4. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–∏–º –±–æ—Ç–æ–º
- –ó–∞–º—ñ–Ω–∏—Ç–∏ `createTelegramBot` –Ω–∞ `createEnhancedTelegramBot`
- –û–Ω–æ–≤–∏—Ç–∏ webhook endpoint
- –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

## üîß API Endpoints –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–∞—Ä–æ–ª—ñ–≤ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
```
POST /api/telegram/generate-password
{
  "businessId": "xxx",
  "role": "CLIENT" | "ADMIN" | "MANAGER" | etc,
  "firstName": "–Ü–º'—è",
  "lastName": "–ü—Ä—ñ–∑–≤–∏—â–µ"
}
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–∫–∏
```
POST /api/telegram/broadcasts
{
  "businessId": "xxx",
  "title": "–ù–∞–∑–≤–∞",
  "message": "–¢–µ–∫—Å—Ç",
  "targetRole": "CLIENT" | null,
  "scheduledAt": "2024-01-01T10:00:00Z" | null
}
```

### –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —Ä–æ–∑—Å–∏–ª–∫–∏
```
POST /api/telegram/broadcasts/[id]/send
```

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –í—Å—ñ –∑–º—ñ–Ω–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –≤–∂–µ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ
- –ù–æ–≤–∏–π –±–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –≤ `lib/telegram-enhanced.ts`
- –ü–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ —ñ—Å–Ω—É—é—á–∏–º webhook
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∞—Ä–æ–ª—ñ–≤

